<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine Surprise ‚ù§Ô∏è</title>
  <style>
    :root{
      --pink:#ff4d6d; --rose:#ff9a9e; --peach:#fad0c4; --dark:#1a1a1a;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      height:100vh; overflow:hidden; color:#fff;
      background: radial-gradient(1200px 600px at 10% -10%, #fff2, transparent 40%),
                  linear-gradient(135deg, var(--rose), var(--peach));
    }
    .page{display:none; min-height:100vh; padding:24px; text-align:center; animation:pop .6s ease}
    .page.active{display:flex; align-items:center; justify-content:center}
    .card{
      width:min(92vw,420px); background:#ffffff22; backdrop-filter: blur(10px);
      border-radius:28px; padding:28px; box-shadow:0 20px 60px #0003;
      border:1px solid #ffffff33;
    }
    h1,h2{margin:0 0 14px}
    .sub{opacity:.9; margin-bottom:18px}
    .emoji{font-size:40px; margin-bottom:8px}
    .actions{display:flex; gap:14px; justify-content:center; flex-wrap:wrap}
    button{
      padding:14px 26px; border:0; border-radius:999px; font-size:16px; cursor:pointer;
      transition:transform .2s, box-shadow .2s, background .2s; box-shadow:0 10px 25px #0003;
    }
    .yes{background:linear-gradient(135deg,#ff6a88,#ff99ac); color:#fff}
    .yes:hover{transform:translateY(-2px) scale(1.05)}
    .no{background:#333; color:#fff; position:absolute}/* Page 2 */
.date-wrap input{width:100%; padding:14px; border-radius:16px; border:0; font-size:16px}

/* Page 3 */
.gift-img{width:100%; border-radius:22px; box-shadow:0 18px 40px #0004; margin-bottom:14px}

/* Page 4 */
.final{width:100vw; height:100vh; display:flex; align-items:center; justify-content:center;
  background: radial-gradient(600px 400px at 50% 0%, #fff1, transparent 60%), #000}
.final img{max-width:90%; max-height:78vh; border-radius:28px; box-shadow:0 25px 60px #0008}

/* floating hearts */
.hearts{position:fixed; inset:0; pointer-events:none; overflow:hidden}
.heart{position:absolute; font-size:22px; animation:float 6s linear infinite; opacity:.7}

@keyframes pop{from{opacity:0; transform:scale(.9)} to{opacity:1; transform:scale(1)}}
@keyframes float{from{transform:translateY(110vh)} to{transform:translateY(-10vh)}}

  </style>
</head>
<body>  <!-- Page 1 -->  <div class="page active" id="page1">
    <h1>Will you be my Valentine? üíñ</h1>
    <button class="yes" onclick="nextPage(2)">Yes</button>
    <button class="no" id="noBtn">No</button>
  </div>  <!-- Page 2 -->  <div class="page" id="page2">
    <h2>Choose date for our date üíï</h2>
    <input type="date" />
    <br /><br />
    <button class="yes" onclick="nextPage(3)">Proceed</button>
  </div>  <!-- Page 3 -->  <div class="page" id="page3">
    <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e" alt="Cute girl" />
    <br />
    <button class="yes" onclick="nextPage(4)">Claim Gift üéÅ</button>
  </div><!-- Page 4 -->

  <div class="page" id="page4">
    <div class="final">
      <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e" alt="Final" />
      <audio id="bgAudio" loop preload="auto">
        <source src="https://tuna.voicemod.net/sound/cdf5679d-b438-4c79-b479-b97f5ebf7589" type="audio/mpeg">
      </audio>
    </div>
  </div>
  </div>
  </div>  <script>
    // --- NO BUTTON: UNLIMITED ESCAPE ---
    const noBtn = document.getElementById('noBtn');
    function moveNo() {
      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;
      const maxX = window.innerWidth - btnWidth - 10;
      const maxY = window.innerHeight - btnHeight - 10;
      const x = Math.random() * maxX;
      const y = Math.random() * maxY;
      noBtn.style.left = x + 'px';
      noBtn.style.top = y + 'px';
    }
    // touch + mouse = unlimited
    noBtn.addEventListener('mouseover', moveNo);
    noBtn.addEventListener('mousedown', moveNo);
    noBtn.addEventListener('touchstart', moveNo);

    // --- PAGE SWITCHING ---
    function nextPage(num) {
      // page switch
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const target = document.getElementById('page' + num);
      target.classList.add('active');

      // HARD AUTOPLAY (user-gesture chained)
      if (num === 4) {
        const a = document.getElementById('bgAudio');
        if (!a) return;
        try {
          a.volume = 1.0; // full loud
          // Play immediately (this call is chained to the click that triggered nextPage)
          a.play();
        } catch(e) {}
        // Redundant guarantees
        setTimeout(() => { try{ a.play(); }catch(e){} }, 50);
        document.addEventListener('visibilitychange', () => {
          if (!document.hidden) { try{ a.play(); }catch(e){} }
        }, { once:true });
      }
    }).catch(() => {
            // fallback: first user interaction
            const forcePlay = () => {
              a.muted = false;
              a.play();
              document.removeEventListener('click', forcePlay);
              document.removeEventListener('touchstart', forcePlay);
            };
            document.addEventListener('click', forcePlay);
            document.addEventListener('touchstart', forcePlay);
          });
        }
      }
    }
  </script></body>
</html>